{"version":3,"file":"index.js","sources":["src/auth.js"],"sourcesContent":["/**\n * Ourodemi IDaaS React SDK\n * MIT Licensed\n */\n\n import axios from 'axios';\n\n class IDaaSModule{\n     refreshToken = null;\n     accessToken = null;\n     captchaToken = null;\n \n     apiVersion = 'v1';\n     isRefreshing = false;\n \n     localStoragePrefix = 'idaas-';\n     deauthHandler = function(){};\n  \n     constructor(domain){\n         this.domain = domain;\n         \n         this.refreshToken = this.getLocalStorageItem('refresh-token');\n         this.refreshTokenExpiry = this.getLocalStorageItem('refresh-token-expiry') || 0;\n \n         this.accessToken = this.getLocalStorageItem('access-token');\n         this.accessTokenExpiry = this.getLocalStorageItem('access-token-expiry') || 0;        \n     }\n \n     async isAuthenticated(){\n         // check for a valid refresh token\n         if ( !this.refreshToken || \n             this._timestamp_() > this.refreshTokenExpiry ){\n             return false;\n         }\n \n         // check for a valid refresh token\n         if ( this.accessToken && \n             this.accessTokenExpiry > this._timestamp_() ){\n             return true;   \n         }\n \n         // try to obtain a new access token\n         if ( !await this.newAccessToken() ){\n             return false;\n         }\n \n         return true;\n     }\n  \n     async auth({ email, username, password }){\n         return new Promise((resolve, reject) => {\n             axios.post(this.uri('auth'), {\n                 email, username, password\n             }).then(({data , status}) => {\n                 if ( status !== 200 ){\n                     return resolve(false);\n                 }\n                 \n                 let { \n                     refreshToken, \n                     accessToken, \n                     refreshTokenExpiry, \n                     accessTokenExpiry,\n                     user\n                 } = data.data;\n                 \n                 if ( !refreshToken ){\n                     return false;\n                 }\n         \n                 this.setLocalStorageItem('refresh-token', refreshToken);\n                 this.setLocalStorageItem('access-token', accessToken);\n                 this.setLocalStorageItem('refresh-token-expiry', refreshTokenExpiry);\n                 this.setLocalStorageItem('access-token-expiry', accessTokenExpiry);\n                 this.setLocalStorageItem('user-data', JSON.stringify(user));\n \n                 this.refreshToken = refreshToken;\n                 this.refreshTokenExpiry = refreshTokenExpiry;\n                 this.accessTokenExpiry = accessTokenExpiry;\n                 this.accessToken = accessToken;\n \n                 resolve(true);\n              }).catch(err => {\n                 resolve(false);\n             });\n         });\n     }\n \n     /**\n      * O\n      * @param {*} captcha \n      * @param {*} param1 \n      * @returns \n      */\n     async sso(captcha, { email, phone }){\n         return new Promise(async (resolve, reject) => {\n             if ( !this.captchaToken ){\n                 return resolve(false);\n             }\n \n             axios.get(this.uri('sso'), {\n                 headers: {\n                     'x-captcha-token': this.captchaToken,\n                     'x-captcha-code': captcha\n                 },\n                 query: { email, phone }\n             }).then(({ data, status }) => {\n                 /**\n                  * 404 - invalid email\n                  * 401 - invalid captcha attempt\n                  * 429 - too many sso requests\n                  */\n                 resolve(status);\n             }).catch(err => {\n                 resolve(false);\n             })\n         });\n     }\n     \n     /**\n      * Invalidates refresh token so that no more access tokens\n      * can be requested with it. Refresh tokens may still remain\n      * valid and a webhook can be attached on the IDaaS platform\n      * to deal with that.\n      * @returns {boolean}\n      */\n     async deauth(){\n         return new Promise(async (resolve, reject) => {\n             if ( !this.refreshToken ){\n                 return resolve(false);\n             }\n \n             this.removeLocalStorageItem('refresh-token');\n             this.removeLocalStorageItem('access-token');\n             this.removeLocalStorageItem('refresh-token-expiry');\n             this.removeLocalStorageItem('access-token-expiry');\n             this.removeLocalStorageItem('user-data');\n \n             axios.delete(this.uri('auth'), {\n                 headers:{\n                     'x-refresh-token': this.refreshToken\n                 }\n             }).then(res => {\n                 resolve(true);\n             }).catch(err => {\n                 resolve(false);\n             });\n \n             this.refreshToken = null;\n             this.accessToken = null;\n         });\n     }\n     \n     /**\n      * \n      * @param {boolean} force - force a new access token \n      * even if current one is still valid \n      * @returns {boolean} - true | false\n      */\n     async newAccessToken(force = false){\n         return new Promise(async (resolve, reject) => {\n             if ( !this.refreshToken ){\n                 this.deauthHandler(false);\n                 return resolve(false);\n             }\n \n             if ( this.isRefreshing ){\n                 let intervalId = setInterval(() => {\n                     if ( !this.isRefreshing ){\n                         clearInterval(intervalId);\n                         resolve(true);\n                     }\n                 }, 500);\n                 return;\n             }\n \n             if ( this.accessTokenExpiry > this._timestamp_() && !force ){\n                 return resolve(true);\n             }\n \n             this.isRefreshing = true;\n \n             await axios.get(this.uri('auth'), {headers:{\n                 'x-refresh-token': this.refreshToken\n             }}).then(({data, status}) => {\n                 let { accessToken, expiry, user } = data.data;\n                 \n                 if ( !accessToken ){\n                     resolve(false);\n                     return this.deauthHandler({ status });\n                 }\n         \n                 this.setLocalStorageItem('access-token', accessToken);\n                 this.setLocalStorageItem('user-data', JSON.stringify(user));\n                 this.setLocalStorageItem('access-token-expiry', expiry);\n \n                 this.accessToken = accessToken;\n                 this.accessTokenExpiry = expiry;\n \n                 resolve(data.data);\n             }).catch(err => {\n                 resolve(false);\n                 return this.deauthHandler({ status: 500 })\n             })\n \n             this.isRefreshing = false;\n         });\n     }\n  \n     async obtainCaptcha(){\n         return new Promise(async (resolve, reject) => {\n             await axios.get(this.uri('captcha'))\n             .then(({ data }) => {\n                 resolve(data.data);\n             }).catch(err => {\n                 resolve(err);\n             });\n         });\n     }\n \n     /**\n      * \n      * @param {function} handler \n      * @returns \n      */\n     async request(handler){\n         if ( this._timestamp_() > this.refreshTokenExpiry ){\n             return this.deauthHandler();\n         }\n \n         if ( this._timestamp_() > this.accessTokenExpiry ){\n             await this.newAccessToken()\n         }\n \n         handler(this.accessToken);\n     }\n \n     setDeauthHandler(handler){\n         this.deauthHandler = handler;\n     }\n \n     async getUser(){\n         if ( !this.isAuthenticated() ){\n             return false;\n         }\n \n         return new Promise(async (resolve, reject) => {\n             try{\n                 let user = JSON.parse(\n                     this.getLocalStorageItem('user-data') || '{}'\n                 );\n \n                 if ( user.user_id ){\n                     return resolve(user);\n                 }\n             }catch(e){\n                 // move ahead\n             }\n \n             await axios.get(this.uri('user'), {\n                 headers:{\n                     'x-access-token':this.accessToken\n                 }\n             }).then(({data, status}) => {\n                 if ( status != 200 ){\n                     return resolve(false);\n                 }\n \n                 this.setLocalStorageItem('user-data', JSON.stringify(data.data));\n                 resolve(data.data);\n             }).catch(err => {\n                 resolve(false);\n             });\n         });\n     }\n \n     _timestamp_(){\n         return Math.floor(Date.now() / 1000);\n     }\n \n     uri(e){\n         return `https://${this.domain}/${this.apiVersion}/${e}`\n     }\n     \n     /* LOCAL STORAGE WARPPERS FOR PREFIXING */\n \n     getLocalStorageItem(key){\n         return localStorage.getItem(`${this.localStoragePrefix+key}`);\n     }\n \n     setLocalStorageItem(key, value){\n         return localStorage.setItem(`${this.localStoragePrefix+key}`, value);\n     }\n \n     removeLocalStorageItem(key){\n         return localStorage.removeItem(`${this.localStoragePrefix+key}`);\n     }\n }\n \n export default IDaaSModule;"],"names":[],"mappings":"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"}